{"version":3,"sources":["node_modules/tslib/tslib.es6.js","node_modules/hey-listen/dist/hey-listen.es.js","node_modules/popmotion/dist/es/utils/clamp.mjs","node_modules/popmotion/dist/es/animations/utils/find-spring.mjs","node_modules/popmotion/dist/es/animations/generators/spring.mjs","node_modules/popmotion/dist/es/utils/progress.mjs","node_modules/popmotion/dist/es/utils/mix.mjs","node_modules/style-value-types/dist/es/utils.mjs","node_modules/style-value-types/dist/es/numbers/index.mjs","node_modules/style-value-types/dist/es/numbers/units.mjs","node_modules/style-value-types/dist/es/color/utils.mjs","node_modules/style-value-types/dist/es/color/hsla.mjs","node_modules/style-value-types/dist/es/color/rgba.mjs","node_modules/style-value-types/dist/es/color/hex.mjs","node_modules/style-value-types/dist/es/color/index.mjs","node_modules/style-value-types/dist/es/complex/index.mjs","node_modules/style-value-types/dist/es/complex/filter.mjs","node_modules/style-value-types/dist/es/index.mjs","node_modules/popmotion/dist/es/utils/hsla-to-rgba.mjs","node_modules/popmotion/dist/es/utils/mix-color.mjs","node_modules/popmotion/dist/es/utils/inc.mjs","node_modules/popmotion/dist/es/utils/pipe.mjs","node_modules/popmotion/dist/es/utils/mix-complex.mjs","node_modules/popmotion/dist/es/utils/interpolate.mjs","node_modules/popmotion/dist/es/easing/utils.mjs","node_modules/popmotion/dist/es/easing/index.mjs","node_modules/popmotion/dist/es/animations/generators/keyframes.mjs","node_modules/popmotion/dist/es/animations/generators/decay.mjs","node_modules/popmotion/dist/es/animations/utils/detect-animation-from-options.mjs","node_modules/framesync/dist/es/on-next-frame.mjs","node_modules/framesync/dist/es/create-render-step.mjs","../../../../usr/local/lib/node_modules/parcel-bundler/node_modules/process/browser.js","node_modules/framesync/dist/es/index.mjs","node_modules/popmotion/dist/es/animations/utils/elapsed.mjs","node_modules/popmotion/dist/es/animations/index.mjs","node_modules/popmotion/dist/es/utils/velocity-per-second.mjs","node_modules/popmotion/dist/es/animations/inertia.mjs","node_modules/popmotion/dist/es/utils/radians-to-degrees.mjs","node_modules/popmotion/dist/es/utils/angle.mjs","node_modules/popmotion/dist/es/utils/apply-offset.mjs","node_modules/popmotion/dist/es/utils/attract.mjs","node_modules/popmotion/dist/es/utils/degrees-to-radians.mjs","node_modules/popmotion/dist/es/utils/is-point.mjs","node_modules/popmotion/dist/es/utils/is-point-3d.mjs","node_modules/popmotion/dist/es/utils/distance.mjs","node_modules/popmotion/dist/es/utils/point-from-vector.mjs","node_modules/popmotion/dist/es/utils/to-decimal.mjs","node_modules/popmotion/dist/es/utils/smooth-frame.mjs","node_modules/popmotion/dist/es/utils/smooth.mjs","node_modules/popmotion/dist/es/utils/snap.mjs","node_modules/popmotion/dist/es/utils/velocity-per-frame.mjs","node_modules/popmotion/dist/es/utils/wrap.mjs","node_modules/popmotion/dist/es/easing/cubic-bezier.mjs","node_modules/popmotion/dist/es/easing/steps.mjs","node_modules/popmotion/dist/es/index.mjs","animation.js","../../../../usr/local/lib/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","target","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","rejected","result","done","then","__generator","body","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","v","op","pop","push","__createBinding","o","m","k","k2","undefined","__esModule","writable","configurable","enumerable","get","__exportStar","__values","__read","ar","error","__spread","concat","__spreadArrays","il","a","j","jl","__spreadArray","to","from","pack","l","slice","__await","__asyncGenerator","asyncIterator","q","resume","settle","fulfill","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__setModuleDefault","__importStar","mod","__importDefault","default","__classPrivateFieldGet","receiver","state","kind","has","__classPrivateFieldSet","set","__classPrivateFieldIn","warning","invariant","check","message","console","warn","Error","clamp","min","max","Math","safeMin","minDuration","maxDuration","minDamping","maxDamping","findSpring","duration","bounce","velocity","mass","envelope","derivative","dampingRatio","undampedFreq","exponentialDecay","delta","calcAngularFreq","exp","pow","factor","initialGuess","approximateRoot","isNaN","stiffness","damping","sqrt","rootIterations","durationKeys","physicsKeys","isSpringType","options","keys","some","getSpringOptions","springOptions","isResolvedFromDuration","derived","spring","_a","restSpeed","restDelta","resolveSpring","zero","resolveVelocity","createSpring","initialVelocity","initialDelta","undampedAngularFreq","abs","angularFreq","sin","cos","dampedAngularFreq","freqForT","sinh","cosh","current","currentVelocity","isBelowVelocityThreshold","isBelowDisplacementThreshold","flipTarget","needsInterpolation","_t","progress","toFromDifference","mix","sanitize","Number","toFixed","floatRegex","colorRegex","singleColorRegex","isString","number","test","parse","parseFloat","transform","alpha","scale","createUnitType","unit","endsWith","split","degrees","percent","px","vh","vw","progressPercentage","isColorString","type","testProp","Boolean","startsWith","splitColor","aName","bName","cName","match","hsla","hue","saturation","lightness","alpha$1","round","clampRgbUnit","rgbUnit","rgba","red","green","blue","parseHex","substr","parseInt","hex","color","colorToken","numberToken","_b","_c","_d","analyse","values","numColors","colors","replace","map","numbers","tokenised","createTransformer","numValues","output","convertNumbersToZero","getAnimatableNone","parsed","transformer","complex","maxDefaults","Set","applyDefaultFilter","name","defaultValue","functionRegex","filter","functions","join","hueToRgb","hslaToRgba","mixLinearColor","fromExpo","toExpo","colorTypes","getColorType","find","notAnimatable","mixColor","fromColorType","toColorType","fromColor","toColor","blended","zeroPoint","x","z","isNum","combineFunctions","pipe","transformers","reduce","getMixer","origin","mixComplex","mixArray","blendValue","fromThis","mixObject","numNumbers","numRGB","numHSL","template","originStats","targetStats","canInterpolate","mixNumber","detectMixerFactory","isArray","createMixers","ease","customMixer","mixers","mixerFactory","numMixers","mixer","easingFunction","fastInterpolate","slowInterpolate","input","inputLength","lastInputIndex","mixerIndex","foundMixerIndex","progressInRange","interpolate","isClamp","reverse","interpolator","reverseEasing","easing","mirrorEasing","createExpoIn","power","createBackIn","createAnticipate","backEasing","DEFAULT_OVERSHOOT_STRENGTH","BOUNCE_FIRST_THRESHOLD","BOUNCE_SECOND_THRESHOLD","BOUNCE_THIRD_THRESHOLD","linear","easeIn","easeOut","easeInOut","circIn","acos","circOut","circInOut","backIn","backOut","backInOut","anticipate","ca","cb","cc","bounceOut","p2","bounceIn","bounceInOut","defaultEasing","splice","defaultOffset","_value","convertOffsetToTimes","offset","keyframes","times","createInterpolator","decay","timeConstant","modifyTarget","amplitude","ideal","types","detectAnimationFromOptions","config","defaultTimestep","getCurrentTime","performance","now","Date","onNextFrame","window","callback","requestAnimationFrame","setTimeout","createRenderStep","runNextFrame","toRun","toRunNextFrame","numToRun","isProcessing","flushNextFrame","toKeepAlive","WeakSet","schedule","keepAlive","immediate","addToCurrentFrame","buffer","add","cancel","index","delete","process","frameData","module","exports","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","len","run","nextTick","args","Item","array","title","env","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","maxElapsed","useDefaultElapsed","frame","timestamp","stepsOrder","steps","acc","sync","startLoop","cancelSync","flushSync","processStep","stepId","processFrame","forEach","getFrameData","loopElapsed","elapsed","delay","reverseElapsed","isForwardPlayback","hasRepeatDelayElapsed","framesync","update","passTimestamp","start","stop","animate","autoplay","driver","repeat","repeatMax","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate","driverControls","repeatCount","computedDuration","latest","isComplete","interpolateFromNumber","animator","animation","complete","play","velocityPerSecond","frameDuration","inertia","bounceStiffness","bounceDamping","currentAnimation","isOutOfBounds","boundaryNearest","startAnimation","startSpring","boundary","heading","prev","checkBoundary","radiansToDegrees","radians","PI","angle","atan2","applyOffset","hasReceivedFrom","identity","createAttractor","alterDisplacement","constant","displacement","springModifiedDisplacement","attract","attractExpo","degreesToRadians","isPoint","point","isPoint3D","distance1D","distance","xDelta","yDelta","zDelta","pointFromVector","toDecimal","num","precision","smoothFrame","prevValue","nextValue","smoothing","smooth","strength","previousValue","lastUpdated","currentFramestamp","timeDelta","newValue","snap","points","numPoints","lastDistance","velocityPerFrame","xps","wrap","rangeSize","a1","a2","calcBezier","getSlope","subdivisionPrecision","subdivisionMaxIterations","binarySubdivide","aX","aA","aB","mX1","mX2","currentX","currentT","newtonIterations","newtonMinSlope","newtonRaphsonIterate","aGuessT","currentSlope","kSplineTableSize","kSampleStepSize","cubicBezier","mY1","mY2","sampleValues","Float32Array","getTForX","intervalStart","currentSample","lastSample","dist","guessForT","initialSlope","direction","expanded","rounded","floor","ceil","styler","popmotion","listen","pointer","ball","document","querySelector","divStyler","ballXY","preventDefault","getVelocity","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","clear","hmrApply","hmrAcceptRun","reload","close","onclose","log","removeErrorOverlay","stack","overlay","createErrorOverlay","appendChild","getElementById","remove","createElement","stackTrace","innerText","innerHTML","getParents","modules","parents","dep","Function","deps","cached","cache"],"mappings":"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","file":"animation.7bfd2d21.js","sourceRoot":"..","sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","var warning = function () { };\r\nvar invariant = function () { };\r\nif (process.env.NODE_ENV !== 'production') {\r\n    warning = function (check, message) {\r\n        if (!check && typeof console !== 'undefined') {\r\n            console.warn(message);\r\n        }\r\n    };\r\n    invariant = function (check, message) {\r\n        if (!check) {\r\n            throw new Error(message);\r\n        }\r\n    };\r\n}\n\nexport { invariant, warning };\n","const clamp = (min, max, v) => Math.min(Math.max(v, min), max);\n\nexport { clamp };\n","import { warning } from 'hey-listen';\nimport { clamp } from '../../utils/clamp.mjs';\n\nconst safeMin = 0.001;\nconst minDuration = 0.01;\nconst maxDuration = 10.0;\nconst minDamping = 0.05;\nconst maxDamping = 1;\nfunction findSpring({ duration = 800, bounce = 0.25, velocity = 0, mass = 1, }) {\n    let envelope;\n    let derivative;\n    warning(duration <= maxDuration * 1000, \"Spring duration must be 10 seconds or less\");\n    let dampingRatio = 1 - bounce;\n    dampingRatio = clamp(minDamping, maxDamping, dampingRatio);\n    duration = clamp(minDuration, maxDuration, duration / 1000);\n    if (dampingRatio < 1) {\n        envelope = (undampedFreq) => {\n            const exponentialDecay = undampedFreq * dampingRatio;\n            const delta = exponentialDecay * duration;\n            const a = exponentialDecay - velocity;\n            const b = calcAngularFreq(undampedFreq, dampingRatio);\n            const c = Math.exp(-delta);\n            return safeMin - (a / b) * c;\n        };\n        derivative = (undampedFreq) => {\n            const exponentialDecay = undampedFreq * dampingRatio;\n            const delta = exponentialDecay * duration;\n            const d = delta * velocity + velocity;\n            const e = Math.pow(dampingRatio, 2) * Math.pow(undampedFreq, 2) * duration;\n            const f = Math.exp(-delta);\n            const g = calcAngularFreq(Math.pow(undampedFreq, 2), dampingRatio);\n            const factor = -envelope(undampedFreq) + safeMin > 0 ? -1 : 1;\n            return (factor * ((d - e) * f)) / g;\n        };\n    }\n    else {\n        envelope = (undampedFreq) => {\n            const a = Math.exp(-undampedFreq * duration);\n            const b = (undampedFreq - velocity) * duration + 1;\n            return -safeMin + a * b;\n        };\n        derivative = (undampedFreq) => {\n            const a = Math.exp(-undampedFreq * duration);\n            const b = (velocity - undampedFreq) * (duration * duration);\n            return a * b;\n        };\n    }\n    const initialGuess = 5 / duration;\n    const undampedFreq = approximateRoot(envelope, derivative, initialGuess);\n    duration = duration * 1000;\n    if (isNaN(undampedFreq)) {\n        return {\n            stiffness: 100,\n            damping: 10,\n            duration,\n        };\n    }\n    else {\n        const stiffness = Math.pow(undampedFreq, 2) * mass;\n        return {\n            stiffness,\n            damping: dampingRatio * 2 * Math.sqrt(mass * stiffness),\n            duration,\n        };\n    }\n}\nconst rootIterations = 12;\nfunction approximateRoot(envelope, derivative, initialGuess) {\n    let result = initialGuess;\n    for (let i = 1; i < rootIterations; i++) {\n        result = result - envelope(result) / derivative(result);\n    }\n    return result;\n}\nfunction calcAngularFreq(undampedFreq, dampingRatio) {\n    return undampedFreq * Math.sqrt(1 - dampingRatio * dampingRatio);\n}\n\nexport { calcAngularFreq, findSpring, maxDamping, maxDuration, minDamping, minDuration };\n","import { __rest } from 'tslib';\nimport { findSpring, calcAngularFreq } from '../utils/find-spring.mjs';\n\nconst durationKeys = [\"duration\", \"bounce\"];\nconst physicsKeys = [\"stiffness\", \"damping\", \"mass\"];\nfunction isSpringType(options, keys) {\n    return keys.some((key) => options[key] !== undefined);\n}\nfunction getSpringOptions(options) {\n    let springOptions = Object.assign({ velocity: 0.0, stiffness: 100, damping: 10, mass: 1.0, isResolvedFromDuration: false }, options);\n    if (!isSpringType(options, physicsKeys) &&\n        isSpringType(options, durationKeys)) {\n        const derived = findSpring(options);\n        springOptions = Object.assign(Object.assign(Object.assign({}, springOptions), derived), { velocity: 0.0, mass: 1.0 });\n        springOptions.isResolvedFromDuration = true;\n    }\n    return springOptions;\n}\nfunction spring(_a) {\n    var { from = 0.0, to = 1.0, restSpeed = 2, restDelta } = _a, options = __rest(_a, [\"from\", \"to\", \"restSpeed\", \"restDelta\"]);\n    const state = { done: false, value: from };\n    let { stiffness, damping, mass, velocity, duration, isResolvedFromDuration, } = getSpringOptions(options);\n    let resolveSpring = zero;\n    let resolveVelocity = zero;\n    function createSpring() {\n        const initialVelocity = velocity ? -(velocity / 1000) : 0.0;\n        const initialDelta = to - from;\n        const dampingRatio = damping / (2 * Math.sqrt(stiffness * mass));\n        const undampedAngularFreq = Math.sqrt(stiffness / mass) / 1000;\n        if (restDelta === undefined) {\n            restDelta = Math.min(Math.abs(to - from) / 100, 0.4);\n        }\n        if (dampingRatio < 1) {\n            const angularFreq = calcAngularFreq(undampedAngularFreq, dampingRatio);\n            resolveSpring = (t) => {\n                const envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n                return (to -\n                    envelope *\n                        (((initialVelocity +\n                            dampingRatio * undampedAngularFreq * initialDelta) /\n                            angularFreq) *\n                            Math.sin(angularFreq * t) +\n                            initialDelta * Math.cos(angularFreq * t)));\n            };\n            resolveVelocity = (t) => {\n                const envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n                return (dampingRatio *\n                    undampedAngularFreq *\n                    envelope *\n                    ((Math.sin(angularFreq * t) *\n                        (initialVelocity +\n                            dampingRatio *\n                                undampedAngularFreq *\n                                initialDelta)) /\n                        angularFreq +\n                        initialDelta * Math.cos(angularFreq * t)) -\n                    envelope *\n                        (Math.cos(angularFreq * t) *\n                            (initialVelocity +\n                                dampingRatio *\n                                    undampedAngularFreq *\n                                    initialDelta) -\n                            angularFreq *\n                                initialDelta *\n                                Math.sin(angularFreq * t)));\n            };\n        }\n        else if (dampingRatio === 1) {\n            resolveSpring = (t) => to -\n                Math.exp(-undampedAngularFreq * t) *\n                    (initialDelta +\n                        (initialVelocity + undampedAngularFreq * initialDelta) *\n                            t);\n        }\n        else {\n            const dampedAngularFreq = undampedAngularFreq * Math.sqrt(dampingRatio * dampingRatio - 1);\n            resolveSpring = (t) => {\n                const envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n                const freqForT = Math.min(dampedAngularFreq * t, 300);\n                return (to -\n                    (envelope *\n                        ((initialVelocity +\n                            dampingRatio * undampedAngularFreq * initialDelta) *\n                            Math.sinh(freqForT) +\n                            dampedAngularFreq *\n                                initialDelta *\n                                Math.cosh(freqForT))) /\n                        dampedAngularFreq);\n            };\n        }\n    }\n    createSpring();\n    return {\n        next: (t) => {\n            const current = resolveSpring(t);\n            if (!isResolvedFromDuration) {\n                const currentVelocity = resolveVelocity(t) * 1000;\n                const isBelowVelocityThreshold = Math.abs(currentVelocity) <= restSpeed;\n                const isBelowDisplacementThreshold = Math.abs(to - current) <= restDelta;\n                state.done =\n                    isBelowVelocityThreshold && isBelowDisplacementThreshold;\n            }\n            else {\n                state.done = t >= duration;\n            }\n            state.value = state.done ? to : current;\n            return state;\n        },\n        flipTarget: () => {\n            velocity = -velocity;\n            [from, to] = [to, from];\n            createSpring();\n        },\n    };\n}\nspring.needsInterpolation = (a, b) => typeof a === \"string\" || typeof b === \"string\";\nconst zero = (_t) => 0;\n\nexport { spring };\n","const progress = (from, to, value) => {\n    const toFromDifference = to - from;\n    return toFromDifference === 0 ? 1 : (value - from) / toFromDifference;\n};\n\nexport { progress };\n","const mix = (from, to, progress) => -progress * from + progress * to + from;\n\nexport { mix };\n","const clamp = (min, max) => (v) => Math.max(Math.min(v, max), min);\nconst sanitize = (v) => (v % 1 ? Number(v.toFixed(5)) : v);\nconst floatRegex = /(-)?([\\d]*\\.?[\\d])+/g;\nconst colorRegex = /(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?[\\d\\.]+%?[,\\s]+){2,3}\\s*\\/*\\s*[\\d\\.]+%?\\))/gi;\nconst singleColorRegex = /^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?[\\d\\.]+%?[,\\s]+){2,3}\\s*\\/*\\s*[\\d\\.]+%?\\))$/i;\nfunction isString(v) {\n    return typeof v === 'string';\n}\n\nexport { clamp, colorRegex, floatRegex, isString, sanitize, singleColorRegex };\n","import { clamp } from '../utils.mjs';\n\nconst number = {\n    test: (v) => typeof v === 'number',\n    parse: parseFloat,\n    transform: (v) => v,\n};\nconst alpha = Object.assign(Object.assign({}, number), { transform: clamp(0, 1) });\nconst scale = Object.assign(Object.assign({}, number), { default: 1 });\n\nexport { alpha, number, scale };\n","import { isString } from '../utils.mjs';\n\nconst createUnitType = (unit) => ({\n    test: (v) => isString(v) && v.endsWith(unit) && v.split(' ').length === 1,\n    parse: parseFloat,\n    transform: (v) => `${v}${unit}`,\n});\nconst degrees = createUnitType('deg');\nconst percent = createUnitType('%');\nconst px = createUnitType('px');\nconst vh = createUnitType('vh');\nconst vw = createUnitType('vw');\nconst progressPercentage = Object.assign(Object.assign({}, percent), { parse: (v) => percent.parse(v) / 100, transform: (v) => percent.transform(v * 100) });\n\nexport { degrees, percent, progressPercentage, px, vh, vw };\n","import { isString, singleColorRegex, floatRegex } from '../utils.mjs';\n\nconst isColorString = (type, testProp) => (v) => {\n    return Boolean((isString(v) && singleColorRegex.test(v) && v.startsWith(type)) ||\n        (testProp && Object.prototype.hasOwnProperty.call(v, testProp)));\n};\nconst splitColor = (aName, bName, cName) => (v) => {\n    if (!isString(v))\n        return v;\n    const [a, b, c, alpha] = v.match(floatRegex);\n    return {\n        [aName]: parseFloat(a),\n        [bName]: parseFloat(b),\n        [cName]: parseFloat(c),\n        alpha: alpha !== undefined ? parseFloat(alpha) : 1,\n    };\n};\n\nexport { isColorString, splitColor };\n","import { alpha } from '../numbers/index.mjs';\nimport { percent } from '../numbers/units.mjs';\nimport { sanitize } from '../utils.mjs';\nimport { isColorString, splitColor } from './utils.mjs';\n\nconst hsla = {\n    test: isColorString('hsl', 'hue'),\n    parse: splitColor('hue', 'saturation', 'lightness'),\n    transform: ({ hue, saturation, lightness, alpha: alpha$1 = 1 }) => {\n        return ('hsla(' +\n            Math.round(hue) +\n            ', ' +\n            percent.transform(sanitize(saturation)) +\n            ', ' +\n            percent.transform(sanitize(lightness)) +\n            ', ' +\n            sanitize(alpha.transform(alpha$1)) +\n            ')');\n    },\n};\n\nexport { hsla };\n","import { number, alpha } from '../numbers/index.mjs';\nimport { sanitize, clamp } from '../utils.mjs';\nimport { isColorString, splitColor } from './utils.mjs';\n\nconst clampRgbUnit = clamp(0, 255);\nconst rgbUnit = Object.assign(Object.assign({}, number), { transform: (v) => Math.round(clampRgbUnit(v)) });\nconst rgba = {\n    test: isColorString('rgb', 'red'),\n    parse: splitColor('red', 'green', 'blue'),\n    transform: ({ red, green, blue, alpha: alpha$1 = 1 }) => 'rgba(' +\n        rgbUnit.transform(red) +\n        ', ' +\n        rgbUnit.transform(green) +\n        ', ' +\n        rgbUnit.transform(blue) +\n        ', ' +\n        sanitize(alpha.transform(alpha$1)) +\n        ')',\n};\n\nexport { rgbUnit, rgba };\n","import { rgba } from './rgba.mjs';\nimport { isColorString } from './utils.mjs';\n\nfunction parseHex(v) {\n    let r = '';\n    let g = '';\n    let b = '';\n    let a = '';\n    if (v.length > 5) {\n        r = v.substr(1, 2);\n        g = v.substr(3, 2);\n        b = v.substr(5, 2);\n        a = v.substr(7, 2);\n    }\n    else {\n        r = v.substr(1, 1);\n        g = v.substr(2, 1);\n        b = v.substr(3, 1);\n        a = v.substr(4, 1);\n        r += r;\n        g += g;\n        b += b;\n        a += a;\n    }\n    return {\n        red: parseInt(r, 16),\n        green: parseInt(g, 16),\n        blue: parseInt(b, 16),\n        alpha: a ? parseInt(a, 16) / 255 : 1,\n    };\n}\nconst hex = {\n    test: isColorString('#'),\n    parse: parseHex,\n    transform: rgba.transform,\n};\n\nexport { hex };\n","import { isString } from '../utils.mjs';\nimport { hex } from './hex.mjs';\nimport { hsla } from './hsla.mjs';\nimport { rgba } from './rgba.mjs';\n\nconst color = {\n    test: (v) => rgba.test(v) || hex.test(v) || hsla.test(v),\n    parse: (v) => {\n        if (rgba.test(v)) {\n            return rgba.parse(v);\n        }\n        else if (hsla.test(v)) {\n            return hsla.parse(v);\n        }\n        else {\n            return hex.parse(v);\n        }\n    },\n    transform: (v) => {\n        return isString(v)\n            ? v\n            : v.hasOwnProperty('red')\n                ? rgba.transform(v)\n                : hsla.transform(v);\n    },\n};\n\nexport { color };\n","import { color } from '../color/index.mjs';\nimport { number } from '../numbers/index.mjs';\nimport { isString, floatRegex, colorRegex, sanitize } from '../utils.mjs';\n\nconst colorToken = '${c}';\nconst numberToken = '${n}';\nfunction test(v) {\n    var _a, _b, _c, _d;\n    return (isNaN(v) &&\n        isString(v) &&\n        ((_b = (_a = v.match(floatRegex)) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0) + ((_d = (_c = v.match(colorRegex)) === null || _c === void 0 ? void 0 : _c.length) !== null && _d !== void 0 ? _d : 0) > 0);\n}\nfunction analyse(v) {\n    if (typeof v === 'number')\n        v = `${v}`;\n    const values = [];\n    let numColors = 0;\n    const colors = v.match(colorRegex);\n    if (colors) {\n        numColors = colors.length;\n        v = v.replace(colorRegex, colorToken);\n        values.push(...colors.map(color.parse));\n    }\n    const numbers = v.match(floatRegex);\n    if (numbers) {\n        v = v.replace(floatRegex, numberToken);\n        values.push(...numbers.map(number.parse));\n    }\n    return { values, numColors, tokenised: v };\n}\nfunction parse(v) {\n    return analyse(v).values;\n}\nfunction createTransformer(v) {\n    const { values, numColors, tokenised } = analyse(v);\n    const numValues = values.length;\n    return (v) => {\n        let output = tokenised;\n        for (let i = 0; i < numValues; i++) {\n            output = output.replace(i < numColors ? colorToken : numberToken, i < numColors ? color.transform(v[i]) : sanitize(v[i]));\n        }\n        return output;\n    };\n}\nconst convertNumbersToZero = (v) => typeof v === 'number' ? 0 : v;\nfunction getAnimatableNone(v) {\n    const parsed = parse(v);\n    const transformer = createTransformer(v);\n    return transformer(parsed.map(convertNumbersToZero));\n}\nconst complex = { test, parse, createTransformer, getAnimatableNone };\n\nexport { complex };\n","import { complex } from './index.mjs';\nimport { floatRegex } from '../utils.mjs';\n\nconst maxDefaults = new Set(['brightness', 'contrast', 'saturate', 'opacity']);\nfunction applyDefaultFilter(v) {\n    let [name, value] = v.slice(0, -1).split('(');\n    if (name === 'drop-shadow')\n        return v;\n    const [number] = value.match(floatRegex) || [];\n    if (!number)\n        return v;\n    const unit = value.replace(number, '');\n    let defaultValue = maxDefaults.has(name) ? 1 : 0;\n    if (number !== value)\n        defaultValue *= 100;\n    return name + '(' + defaultValue + unit + ')';\n}\nconst functionRegex = /([a-z-]*)\\(.*?\\)/g;\nconst filter = Object.assign(Object.assign({}, complex), { getAnimatableNone: (v) => {\n        const functions = v.match(functionRegex);\n        return functions ? functions.map(applyDefaultFilter).join(' ') : v;\n    } });\n\nexport { filter };\n","export { alpha, number, scale } from './numbers/index.mjs';\nexport { degrees, percent, progressPercentage, px, vh, vw } from './numbers/units.mjs';\nexport { hsla } from './color/hsla.mjs';\nexport { rgbUnit, rgba } from './color/rgba.mjs';\nexport { hex } from './color/hex.mjs';\nexport { color } from './color/index.mjs';\nexport { complex } from './complex/index.mjs';\nexport { filter } from './complex/filter.mjs';\n","function hueToRgb(p, q, t) {\n    if (t < 0)\n        t += 1;\n    if (t > 1)\n        t -= 1;\n    if (t < 1 / 6)\n        return p + (q - p) * 6 * t;\n    if (t < 1 / 2)\n        return q;\n    if (t < 2 / 3)\n        return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n}\nfunction hslaToRgba({ hue, saturation, lightness, alpha }) {\n    hue /= 360;\n    saturation /= 100;\n    lightness /= 100;\n    let red = 0;\n    let green = 0;\n    let blue = 0;\n    if (!saturation) {\n        red = green = blue = lightness;\n    }\n    else {\n        const q = lightness < 0.5\n            ? lightness * (1 + saturation)\n            : lightness + saturation - lightness * saturation;\n        const p = 2 * lightness - q;\n        red = hueToRgb(p, q, hue + 1 / 3);\n        green = hueToRgb(p, q, hue);\n        blue = hueToRgb(p, q, hue - 1 / 3);\n    }\n    return {\n        red: Math.round(red * 255),\n        green: Math.round(green * 255),\n        blue: Math.round(blue * 255),\n        alpha,\n    };\n}\n\nexport { hslaToRgba };\n","import { mix } from './mix.mjs';\nimport { hsla, rgba, hex } from 'style-value-types';\nimport { invariant } from 'hey-listen';\nimport { hslaToRgba } from './hsla-to-rgba.mjs';\n\nconst mixLinearColor = (from, to, v) => {\n    const fromExpo = from * from;\n    const toExpo = to * to;\n    return Math.sqrt(Math.max(0, v * (toExpo - fromExpo) + fromExpo));\n};\nconst colorTypes = [hex, rgba, hsla];\nconst getColorType = (v) => colorTypes.find((type) => type.test(v));\nconst notAnimatable = (color) => `'${color}' is not an animatable color. Use the equivalent color code instead.`;\nconst mixColor = (from, to) => {\n    let fromColorType = getColorType(from);\n    let toColorType = getColorType(to);\n    invariant(!!fromColorType, notAnimatable(from));\n    invariant(!!toColorType, notAnimatable(to));\n    let fromColor = fromColorType.parse(from);\n    let toColor = toColorType.parse(to);\n    if (fromColorType === hsla) {\n        fromColor = hslaToRgba(fromColor);\n        fromColorType = rgba;\n    }\n    if (toColorType === hsla) {\n        toColor = hslaToRgba(toColor);\n        toColorType = rgba;\n    }\n    const blended = Object.assign({}, fromColor);\n    return (v) => {\n        for (const key in blended) {\n            if (key !== \"alpha\") {\n                blended[key] = mixLinearColor(fromColor[key], toColor[key], v);\n            }\n        }\n        blended.alpha = mix(fromColor.alpha, toColor.alpha, v);\n        return fromColorType.transform(blended);\n    };\n};\n\nexport { mixColor, mixLinearColor };\n","const zeroPoint = {\n    x: 0,\n    y: 0,\n    z: 0\n};\nconst isNum = (v) => typeof v === 'number';\n\nexport { isNum, zeroPoint };\n","const combineFunctions = (a, b) => (v) => b(a(v));\nconst pipe = (...transformers) => transformers.reduce(combineFunctions);\n\nexport { pipe };\n","import { complex, color } from 'style-value-types';\nimport { mix } from './mix.mjs';\nimport { mixColor } from './mix-color.mjs';\nimport { isNum } from './inc.mjs';\nimport { pipe } from './pipe.mjs';\nimport { warning } from 'hey-listen';\n\nfunction getMixer(origin, target) {\n    if (isNum(origin)) {\n        return (v) => mix(origin, target, v);\n    }\n    else if (color.test(origin)) {\n        return mixColor(origin, target);\n    }\n    else {\n        return mixComplex(origin, target);\n    }\n}\nconst mixArray = (from, to) => {\n    const output = [...from];\n    const numValues = output.length;\n    const blendValue = from.map((fromThis, i) => getMixer(fromThis, to[i]));\n    return (v) => {\n        for (let i = 0; i < numValues; i++) {\n            output[i] = blendValue[i](v);\n        }\n        return output;\n    };\n};\nconst mixObject = (origin, target) => {\n    const output = Object.assign(Object.assign({}, origin), target);\n    const blendValue = {};\n    for (const key in output) {\n        if (origin[key] !== undefined && target[key] !== undefined) {\n            blendValue[key] = getMixer(origin[key], target[key]);\n        }\n    }\n    return (v) => {\n        for (const key in blendValue) {\n            output[key] = blendValue[key](v);\n        }\n        return output;\n    };\n};\nfunction analyse(value) {\n    const parsed = complex.parse(value);\n    const numValues = parsed.length;\n    let numNumbers = 0;\n    let numRGB = 0;\n    let numHSL = 0;\n    for (let i = 0; i < numValues; i++) {\n        if (numNumbers || typeof parsed[i] === \"number\") {\n            numNumbers++;\n        }\n        else {\n            if (parsed[i].hue !== undefined) {\n                numHSL++;\n            }\n            else {\n                numRGB++;\n            }\n        }\n    }\n    return { parsed, numNumbers, numRGB, numHSL };\n}\nconst mixComplex = (origin, target) => {\n    const template = complex.createTransformer(target);\n    const originStats = analyse(origin);\n    const targetStats = analyse(target);\n    const canInterpolate = originStats.numHSL === targetStats.numHSL &&\n        originStats.numRGB === targetStats.numRGB &&\n        originStats.numNumbers >= targetStats.numNumbers;\n    if (canInterpolate) {\n        return pipe(mixArray(originStats.parsed, targetStats.parsed), template);\n    }\n    else {\n        warning(true, `Complex values '${origin}' and '${target}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`);\n        return (p) => `${p > 0 ? target : origin}`;\n    }\n};\n\nexport { mixArray, mixComplex, mixObject };\n","import { progress } from './progress.mjs';\nimport { mix } from './mix.mjs';\nimport { mixColor } from './mix-color.mjs';\nimport { mixComplex, mixArray, mixObject } from './mix-complex.mjs';\nimport { color } from 'style-value-types';\nimport { clamp } from './clamp.mjs';\nimport { pipe } from './pipe.mjs';\nimport { invariant } from 'hey-listen';\n\nconst mixNumber = (from, to) => (p) => mix(from, to, p);\nfunction detectMixerFactory(v) {\n    if (typeof v === 'number') {\n        return mixNumber;\n    }\n    else if (typeof v === 'string') {\n        if (color.test(v)) {\n            return mixColor;\n        }\n        else {\n            return mixComplex;\n        }\n    }\n    else if (Array.isArray(v)) {\n        return mixArray;\n    }\n    else if (typeof v === 'object') {\n        return mixObject;\n    }\n}\nfunction createMixers(output, ease, customMixer) {\n    const mixers = [];\n    const mixerFactory = customMixer || detectMixerFactory(output[0]);\n    const numMixers = output.length - 1;\n    for (let i = 0; i < numMixers; i++) {\n        let mixer = mixerFactory(output[i], output[i + 1]);\n        if (ease) {\n            const easingFunction = Array.isArray(ease) ? ease[i] : ease;\n            mixer = pipe(easingFunction, mixer);\n        }\n        mixers.push(mixer);\n    }\n    return mixers;\n}\nfunction fastInterpolate([from, to], [mixer]) {\n    return (v) => mixer(progress(from, to, v));\n}\nfunction slowInterpolate(input, mixers) {\n    const inputLength = input.length;\n    const lastInputIndex = inputLength - 1;\n    return (v) => {\n        let mixerIndex = 0;\n        let foundMixerIndex = false;\n        if (v <= input[0]) {\n            foundMixerIndex = true;\n        }\n        else if (v >= input[lastInputIndex]) {\n            mixerIndex = lastInputIndex - 1;\n            foundMixerIndex = true;\n        }\n        if (!foundMixerIndex) {\n            let i = 1;\n            for (; i < inputLength; i++) {\n                if (input[i] > v || i === lastInputIndex) {\n                    break;\n                }\n            }\n            mixerIndex = i - 1;\n        }\n        const progressInRange = progress(input[mixerIndex], input[mixerIndex + 1], v);\n        return mixers[mixerIndex](progressInRange);\n    };\n}\nfunction interpolate(input, output, { clamp: isClamp = true, ease, mixer } = {}) {\n    const inputLength = input.length;\n    invariant(inputLength === output.length, 'Both input and output ranges must be the same length');\n    invariant(!ease || !Array.isArray(ease) || ease.length === inputLength - 1, 'Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values.');\n    if (input[0] > input[inputLength - 1]) {\n        input = [].concat(input);\n        output = [].concat(output);\n        input.reverse();\n        output.reverse();\n    }\n    const mixers = createMixers(output, ease, mixer);\n    const interpolator = inputLength === 2\n        ? fastInterpolate(input, mixers)\n        : slowInterpolate(input, mixers);\n    return isClamp\n        ? (v) => interpolator(clamp(input[0], input[inputLength - 1], v))\n        : interpolator;\n}\n\nexport { interpolate };\n","const reverseEasing = easing => p => 1 - easing(1 - p);\nconst mirrorEasing = easing => p => p <= 0.5 ? easing(2 * p) / 2 : (2 - easing(2 * (1 - p))) / 2;\nconst createExpoIn = (power) => p => Math.pow(p, power);\nconst createBackIn = (power) => p => p * p * ((power + 1) * p - power);\nconst createAnticipate = (power) => {\n    const backEasing = createBackIn(power);\n    return p => (p *= 2) < 1\n        ? 0.5 * backEasing(p)\n        : 0.5 * (2 - Math.pow(2, -10 * (p - 1)));\n};\n\nexport { createAnticipate, createBackIn, createExpoIn, mirrorEasing, reverseEasing };\n","import { createExpoIn, reverseEasing, mirrorEasing, createBackIn, createAnticipate } from './utils.mjs';\n\nconst DEFAULT_OVERSHOOT_STRENGTH = 1.525;\nconst BOUNCE_FIRST_THRESHOLD = 4.0 / 11.0;\nconst BOUNCE_SECOND_THRESHOLD = 8.0 / 11.0;\nconst BOUNCE_THIRD_THRESHOLD = 9.0 / 10.0;\nconst linear = p => p;\nconst easeIn = createExpoIn(2);\nconst easeOut = reverseEasing(easeIn);\nconst easeInOut = mirrorEasing(easeIn);\nconst circIn = p => 1 - Math.sin(Math.acos(p));\nconst circOut = reverseEasing(circIn);\nconst circInOut = mirrorEasing(circOut);\nconst backIn = createBackIn(DEFAULT_OVERSHOOT_STRENGTH);\nconst backOut = reverseEasing(backIn);\nconst backInOut = mirrorEasing(backIn);\nconst anticipate = createAnticipate(DEFAULT_OVERSHOOT_STRENGTH);\nconst ca = 4356.0 / 361.0;\nconst cb = 35442.0 / 1805.0;\nconst cc = 16061.0 / 1805.0;\nconst bounceOut = (p) => {\n    if (p === 1 || p === 0)\n        return p;\n    const p2 = p * p;\n    return p < BOUNCE_FIRST_THRESHOLD\n        ? 7.5625 * p2\n        : p < BOUNCE_SECOND_THRESHOLD\n            ? 9.075 * p2 - 9.9 * p + 3.4\n            : p < BOUNCE_THIRD_THRESHOLD\n                ? ca * p2 - cb * p + cc\n                : 10.8 * p * p - 20.52 * p + 10.72;\n};\nconst bounceIn = reverseEasing(bounceOut);\nconst bounceInOut = (p) => p < 0.5\n    ? 0.5 * (1.0 - bounceOut(1.0 - p * 2.0))\n    : 0.5 * bounceOut(p * 2.0 - 1.0) + 0.5;\n\nexport { anticipate, backIn, backInOut, backOut, bounceIn, bounceInOut, bounceOut, circIn, circInOut, circOut, easeIn, easeInOut, easeOut, linear };\n","import { interpolate } from '../../utils/interpolate.mjs';\nimport { easeInOut } from '../../easing/index.mjs';\n\nfunction defaultEasing(values, easing) {\n    return values.map(() => easing || easeInOut).splice(0, values.length - 1);\n}\nfunction defaultOffset(values) {\n    const numValues = values.length;\n    return values.map((_value, i) => i !== 0 ? i / (numValues - 1) : 0);\n}\nfunction convertOffsetToTimes(offset, duration) {\n    return offset.map((o) => o * duration);\n}\nfunction keyframes({ from = 0, to = 1, ease, offset, duration = 300, }) {\n    const state = { done: false, value: from };\n    const values = Array.isArray(to) ? to : [from, to];\n    const times = convertOffsetToTimes(offset && offset.length === values.length\n        ? offset\n        : defaultOffset(values), duration);\n    function createInterpolator() {\n        return interpolate(times, values, {\n            ease: Array.isArray(ease) ? ease : defaultEasing(values, ease),\n        });\n    }\n    let interpolator = createInterpolator();\n    return {\n        next: (t) => {\n            state.value = interpolator(t);\n            state.done = t >= duration;\n            return state;\n        },\n        flipTarget: () => {\n            values.reverse();\n            interpolator = createInterpolator();\n        },\n    };\n}\n\nexport { convertOffsetToTimes, defaultEasing, defaultOffset, keyframes };\n","function decay({ velocity = 0, from = 0, power = 0.8, timeConstant = 350, restDelta = 0.5, modifyTarget, }) {\n    const state = { done: false, value: from };\n    let amplitude = power * velocity;\n    const ideal = from + amplitude;\n    const target = modifyTarget === undefined ? ideal : modifyTarget(ideal);\n    if (target !== ideal)\n        amplitude = target - from;\n    return {\n        next: (t) => {\n            const delta = -amplitude * Math.exp(-t / timeConstant);\n            state.done = !(delta > restDelta || delta < -restDelta);\n            state.value = state.done ? target : target + delta;\n            return state;\n        },\n        flipTarget: () => { },\n    };\n}\n\nexport { decay };\n","import { spring } from '../generators/spring.mjs';\nimport { keyframes } from '../generators/keyframes.mjs';\nimport { decay } from '../generators/decay.mjs';\n\nconst types = { keyframes, spring, decay };\nfunction detectAnimationFromOptions(config) {\n    if (Array.isArray(config.to)) {\n        return keyframes;\n    }\n    else if (types[config.type]) {\n        return types[config.type];\n    }\n    const keys = new Set(Object.keys(config));\n    if (keys.has(\"ease\") ||\n        (keys.has(\"duration\") && !keys.has(\"dampingRatio\"))) {\n        return keyframes;\n    }\n    else if (keys.has(\"dampingRatio\") ||\n        keys.has(\"stiffness\") ||\n        keys.has(\"mass\") ||\n        keys.has(\"damping\") ||\n        keys.has(\"restSpeed\") ||\n        keys.has(\"restDelta\")) {\n        return spring;\n    }\n    return keyframes;\n}\n\nexport { detectAnimationFromOptions };\n","const defaultTimestep = (1 / 60) * 1000;\nconst getCurrentTime = typeof performance !== \"undefined\"\n    ? () => performance.now()\n    : () => Date.now();\nconst onNextFrame = typeof window !== \"undefined\"\n    ? (callback) => window.requestAnimationFrame(callback)\n    : (callback) => setTimeout(() => callback(getCurrentTime()), defaultTimestep);\n\nexport { defaultTimestep, onNextFrame };\n","function createRenderStep(runNextFrame) {\n    let toRun = [];\n    let toRunNextFrame = [];\n    let numToRun = 0;\n    let isProcessing = false;\n    let flushNextFrame = false;\n    const toKeepAlive = new WeakSet();\n    const step = {\n        schedule: (callback, keepAlive = false, immediate = false) => {\n            const addToCurrentFrame = immediate && isProcessing;\n            const buffer = addToCurrentFrame ? toRun : toRunNextFrame;\n            if (keepAlive)\n                toKeepAlive.add(callback);\n            if (buffer.indexOf(callback) === -1) {\n                buffer.push(callback);\n                if (addToCurrentFrame && isProcessing)\n                    numToRun = toRun.length;\n            }\n            return callback;\n        },\n        cancel: (callback) => {\n            const index = toRunNextFrame.indexOf(callback);\n            if (index !== -1)\n                toRunNextFrame.splice(index, 1);\n            toKeepAlive.delete(callback);\n        },\n        process: (frameData) => {\n            if (isProcessing) {\n                flushNextFrame = true;\n                return;\n            }\n            isProcessing = true;\n            [toRun, toRunNextFrame] = [toRunNextFrame, toRun];\n            toRunNextFrame.length = 0;\n            numToRun = toRun.length;\n            if (numToRun) {\n                for (let i = 0; i < numToRun; i++) {\n                    const callback = toRun[i];\n                    callback(frameData);\n                    if (toKeepAlive.has(callback)) {\n                        step.schedule(callback);\n                        runNextFrame();\n                    }\n                }\n            }\n            isProcessing = false;\n            if (flushNextFrame) {\n                flushNextFrame = false;\n                step.process(frameData);\n            }\n        },\n    };\n    return step;\n}\n\nexport { createRenderStep };\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","import { onNextFrame, defaultTimestep } from './on-next-frame.mjs';\nimport { createRenderStep } from './create-render-step.mjs';\n\nconst maxElapsed = 40;\nlet useDefaultElapsed = true;\nlet runNextFrame = false;\nlet isProcessing = false;\nconst frame = {\n    delta: 0,\n    timestamp: 0,\n};\nconst stepsOrder = [\n    \"read\",\n    \"update\",\n    \"preRender\",\n    \"render\",\n    \"postRender\",\n];\nconst steps = stepsOrder.reduce((acc, key) => {\n    acc[key] = createRenderStep(() => (runNextFrame = true));\n    return acc;\n}, {});\nconst sync = stepsOrder.reduce((acc, key) => {\n    const step = steps[key];\n    acc[key] = (process, keepAlive = false, immediate = false) => {\n        if (!runNextFrame)\n            startLoop();\n        return step.schedule(process, keepAlive, immediate);\n    };\n    return acc;\n}, {});\nconst cancelSync = stepsOrder.reduce((acc, key) => {\n    acc[key] = steps[key].cancel;\n    return acc;\n}, {});\nconst flushSync = stepsOrder.reduce((acc, key) => {\n    acc[key] = () => steps[key].process(frame);\n    return acc;\n}, {});\nconst processStep = (stepId) => steps[stepId].process(frame);\nconst processFrame = (timestamp) => {\n    runNextFrame = false;\n    frame.delta = useDefaultElapsed\n        ? defaultTimestep\n        : Math.max(Math.min(timestamp - frame.timestamp, maxElapsed), 1);\n    frame.timestamp = timestamp;\n    isProcessing = true;\n    stepsOrder.forEach(processStep);\n    isProcessing = false;\n    if (runNextFrame) {\n        useDefaultElapsed = false;\n        onNextFrame(processFrame);\n    }\n};\nconst startLoop = () => {\n    runNextFrame = true;\n    useDefaultElapsed = true;\n    if (!isProcessing)\n        onNextFrame(processFrame);\n};\nconst getFrameData = () => frame;\n\nexport default sync;\nexport { cancelSync, flushSync, getFrameData };\n","function loopElapsed(elapsed, duration, delay = 0) {\n    return elapsed - duration - delay;\n}\nfunction reverseElapsed(elapsed, duration, delay = 0, isForwardPlayback = true) {\n    return isForwardPlayback\n        ? loopElapsed(duration + -elapsed, duration, delay)\n        : duration - (elapsed - duration) + delay;\n}\nfunction hasRepeatDelayElapsed(elapsed, duration, delay, isForwardPlayback) {\n    return isForwardPlayback ? elapsed >= duration + delay : elapsed <= -delay;\n}\n\nexport { hasRepeatDelayElapsed, loopElapsed, reverseElapsed };\n","import { __rest } from 'tslib';\nimport { detectAnimationFromOptions } from './utils/detect-animation-from-options.mjs';\nimport sync, { cancelSync } from 'framesync';\nimport { interpolate } from '../utils/interpolate.mjs';\nimport { hasRepeatDelayElapsed, reverseElapsed, loopElapsed } from './utils/elapsed.mjs';\n\nconst framesync = (update) => {\n    const passTimestamp = ({ delta }) => update(delta);\n    return {\n        start: () => sync.update(passTimestamp, true),\n        stop: () => cancelSync.update(passTimestamp),\n    };\n};\nfunction animate(_a) {\n    var _b, _c;\n    var { from, autoplay = true, driver = framesync, elapsed = 0, repeat: repeatMax = 0, repeatType = \"loop\", repeatDelay = 0, onPlay, onStop, onComplete, onRepeat, onUpdate } = _a, options = __rest(_a, [\"from\", \"autoplay\", \"driver\", \"elapsed\", \"repeat\", \"repeatType\", \"repeatDelay\", \"onPlay\", \"onStop\", \"onComplete\", \"onRepeat\", \"onUpdate\"]);\n    let { to } = options;\n    let driverControls;\n    let repeatCount = 0;\n    let computedDuration = options.duration;\n    let latest;\n    let isComplete = false;\n    let isForwardPlayback = true;\n    let interpolateFromNumber;\n    const animator = detectAnimationFromOptions(options);\n    if ((_c = (_b = animator).needsInterpolation) === null || _c === void 0 ? void 0 : _c.call(_b, from, to)) {\n        interpolateFromNumber = interpolate([0, 100], [from, to], {\n            clamp: false,\n        });\n        from = 0;\n        to = 100;\n    }\n    const animation = animator(Object.assign(Object.assign({}, options), { from, to }));\n    function repeat() {\n        repeatCount++;\n        if (repeatType === \"reverse\") {\n            isForwardPlayback = repeatCount % 2 === 0;\n            elapsed = reverseElapsed(elapsed, computedDuration, repeatDelay, isForwardPlayback);\n        }\n        else {\n            elapsed = loopElapsed(elapsed, computedDuration, repeatDelay);\n            if (repeatType === \"mirror\")\n                animation.flipTarget();\n        }\n        isComplete = false;\n        onRepeat && onRepeat();\n    }\n    function complete() {\n        driverControls.stop();\n        onComplete && onComplete();\n    }\n    function update(delta) {\n        if (!isForwardPlayback)\n            delta = -delta;\n        elapsed += delta;\n        if (!isComplete) {\n            const state = animation.next(Math.max(0, elapsed));\n            latest = state.value;\n            if (interpolateFromNumber)\n                latest = interpolateFromNumber(latest);\n            isComplete = isForwardPlayback ? state.done : elapsed <= 0;\n        }\n        onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(latest);\n        if (isComplete) {\n            if (repeatCount === 0)\n                computedDuration !== null && computedDuration !== void 0 ? computedDuration : (computedDuration = elapsed);\n            if (repeatCount < repeatMax) {\n                hasRepeatDelayElapsed(elapsed, computedDuration, repeatDelay, isForwardPlayback) && repeat();\n            }\n            else {\n                complete();\n            }\n        }\n    }\n    function play() {\n        onPlay === null || onPlay === void 0 ? void 0 : onPlay();\n        driverControls = driver(update);\n        driverControls.start();\n    }\n    autoplay && play();\n    return {\n        stop: () => {\n            onStop === null || onStop === void 0 ? void 0 : onStop();\n            driverControls.stop();\n        },\n    };\n}\n\nexport { animate };\n","function velocityPerSecond(velocity, frameDuration) {\n    return frameDuration ? velocity * (1000 / frameDuration) : 0;\n}\n\nexport { velocityPerSecond };\n","import { animate } from './index.mjs';\nimport { velocityPerSecond } from '../utils/velocity-per-second.mjs';\nimport { getFrameData } from 'framesync';\n\nfunction inertia({ from = 0, velocity = 0, min, max, power = 0.8, timeConstant = 750, bounceStiffness = 500, bounceDamping = 10, restDelta = 1, modifyTarget, driver, onUpdate, onComplete, onStop, }) {\n    let currentAnimation;\n    function isOutOfBounds(v) {\n        return (min !== undefined && v < min) || (max !== undefined && v > max);\n    }\n    function boundaryNearest(v) {\n        if (min === undefined)\n            return max;\n        if (max === undefined)\n            return min;\n        return Math.abs(min - v) < Math.abs(max - v) ? min : max;\n    }\n    function startAnimation(options) {\n        currentAnimation === null || currentAnimation === void 0 ? void 0 : currentAnimation.stop();\n        currentAnimation = animate(Object.assign(Object.assign({}, options), { driver, onUpdate: (v) => {\n                var _a;\n                onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(v);\n                (_a = options.onUpdate) === null || _a === void 0 ? void 0 : _a.call(options, v);\n            }, onComplete,\n            onStop }));\n    }\n    function startSpring(options) {\n        startAnimation(Object.assign({ type: \"spring\", stiffness: bounceStiffness, damping: bounceDamping, restDelta }, options));\n    }\n    if (isOutOfBounds(from)) {\n        startSpring({ from, velocity, to: boundaryNearest(from) });\n    }\n    else {\n        let target = power * velocity + from;\n        if (typeof modifyTarget !== \"undefined\")\n            target = modifyTarget(target);\n        const boundary = boundaryNearest(target);\n        const heading = boundary === min ? -1 : 1;\n        let prev;\n        let current;\n        const checkBoundary = (v) => {\n            prev = current;\n            current = v;\n            velocity = velocityPerSecond(v - prev, getFrameData().delta);\n            if ((heading === 1 && v > boundary) ||\n                (heading === -1 && v < boundary)) {\n                startSpring({ from: v, to: boundary, velocity });\n            }\n        };\n        startAnimation({\n            type: \"decay\",\n            from,\n            velocity,\n            timeConstant,\n            power,\n            restDelta,\n            modifyTarget,\n            onUpdate: isOutOfBounds(target) ? checkBoundary : undefined,\n        });\n    }\n    return {\n        stop: () => currentAnimation === null || currentAnimation === void 0 ? void 0 : currentAnimation.stop(),\n    };\n}\n\nexport { inertia };\n","const radiansToDegrees = (radians) => (radians * 180) / Math.PI;\n\nexport { radiansToDegrees };\n","import { radiansToDegrees } from './radians-to-degrees.mjs';\nimport { zeroPoint } from './inc.mjs';\n\nconst angle = (a, b = zeroPoint) => radiansToDegrees(Math.atan2(b.y - a.y, b.x - a.x));\n\nexport { angle };\n","const applyOffset = (from, to) => {\n    let hasReceivedFrom = true;\n    if (to === undefined) {\n        to = from;\n        hasReceivedFrom = false;\n    }\n    return (v) => {\n        if (hasReceivedFrom) {\n            return v - from + to;\n        }\n        else {\n            from = v;\n            hasReceivedFrom = true;\n            return to;\n        }\n    };\n};\n\nexport { applyOffset };\n","const identity = (v) => v;\nconst createAttractor = (alterDisplacement = identity) => (constant, origin, v) => {\n    const displacement = origin - v;\n    const springModifiedDisplacement = -(0 - constant + 1) * (0 - alterDisplacement(Math.abs(displacement)));\n    return displacement <= 0\n        ? origin + springModifiedDisplacement\n        : origin - springModifiedDisplacement;\n};\nconst attract = createAttractor();\nconst attractExpo = createAttractor(Math.sqrt);\n\nexport { attract, attractExpo, createAttractor };\n","const degreesToRadians = (degrees) => (degrees * Math.PI) / 180;\n\nexport { degreesToRadians };\n","const isPoint = (point) => point.hasOwnProperty('x') && point.hasOwnProperty('y');\n\nexport { isPoint };\n","import { isPoint } from './is-point.mjs';\n\nconst isPoint3D = (point) => isPoint(point) && point.hasOwnProperty('z');\n\nexport { isPoint3D };\n","import { isPoint } from './is-point.mjs';\nimport { isPoint3D } from './is-point-3d.mjs';\nimport { isNum } from './inc.mjs';\n\nconst distance1D = (a, b) => Math.abs(a - b);\nfunction distance(a, b) {\n    if (isNum(a) && isNum(b)) {\n        return distance1D(a, b);\n    }\n    else if (isPoint(a) && isPoint(b)) {\n        const xDelta = distance1D(a.x, b.x);\n        const yDelta = distance1D(a.y, b.y);\n        const zDelta = isPoint3D(a) && isPoint3D(b) ? distance1D(a.z, b.z) : 0;\n        return Math.sqrt(Math.pow(xDelta, 2) + Math.pow(yDelta, 2) + Math.pow(zDelta, 2));\n    }\n}\n\nexport { distance };\n","import { degreesToRadians } from './degrees-to-radians.mjs';\n\nconst pointFromVector = (origin, angle, distance) => {\n    angle = degreesToRadians(angle);\n    return {\n        x: distance * Math.cos(angle) + origin.x,\n        y: distance * Math.sin(angle) + origin.y\n    };\n};\n\nexport { pointFromVector };\n","const toDecimal = (num, precision = 2) => {\n    precision = Math.pow(10, precision);\n    return Math.round(num * precision) / precision;\n};\n\nexport { toDecimal };\n","import { toDecimal } from './to-decimal.mjs';\n\nconst smoothFrame = (prevValue, nextValue, duration, smoothing = 0) => toDecimal(prevValue +\n    (duration * (nextValue - prevValue)) / Math.max(smoothing, duration));\n\nexport { smoothFrame };\n","import { smoothFrame } from './smooth-frame.mjs';\nimport { getFrameData } from 'framesync';\n\nconst smooth = (strength = 50) => {\n    let previousValue = 0;\n    let lastUpdated = 0;\n    return (v) => {\n        const currentFramestamp = getFrameData().timestamp;\n        const timeDelta = currentFramestamp !== lastUpdated ? currentFramestamp - lastUpdated : 0;\n        const newValue = timeDelta\n            ? smoothFrame(previousValue, v, timeDelta, strength)\n            : previousValue;\n        lastUpdated = currentFramestamp;\n        previousValue = newValue;\n        return newValue;\n    };\n};\n\nexport { smooth };\n","const snap = (points) => {\n    if (typeof points === 'number') {\n        return (v) => Math.round(v / points) * points;\n    }\n    else {\n        let i = 0;\n        const numPoints = points.length;\n        return (v) => {\n            let lastDistance = Math.abs(points[0] - v);\n            for (i = 1; i < numPoints; i++) {\n                const point = points[i];\n                const distance = Math.abs(point - v);\n                if (distance === 0)\n                    return point;\n                if (distance > lastDistance)\n                    return points[i - 1];\n                if (i === numPoints - 1)\n                    return point;\n                lastDistance = distance;\n            }\n        };\n    }\n};\n\nexport { snap };\n","function velocityPerFrame(xps, frameDuration) {\n    return xps / (1000 / frameDuration);\n}\n\nexport { velocityPerFrame };\n","const wrap = (min, max, v) => {\n    const rangeSize = max - min;\n    return ((((v - min) % rangeSize) + rangeSize) % rangeSize) + min;\n};\n\nexport { wrap };\n","import { linear } from './index.mjs';\n\nconst a = (a1, a2) => 1.0 - 3.0 * a2 + 3.0 * a1;\nconst b = (a1, a2) => 3.0 * a2 - 6.0 * a1;\nconst c = (a1) => 3.0 * a1;\nconst calcBezier = (t, a1, a2) => ((a(a1, a2) * t + b(a1, a2)) * t + c(a1)) * t;\nconst getSlope = (t, a1, a2) => 3.0 * a(a1, a2) * t * t + 2.0 * b(a1, a2) * t + c(a1);\nconst subdivisionPrecision = 0.0000001;\nconst subdivisionMaxIterations = 10;\nfunction binarySubdivide(aX, aA, aB, mX1, mX2) {\n    let currentX;\n    let currentT;\n    let i = 0;\n    do {\n        currentT = aA + (aB - aA) / 2.0;\n        currentX = calcBezier(currentT, mX1, mX2) - aX;\n        if (currentX > 0.0) {\n            aB = currentT;\n        }\n        else {\n            aA = currentT;\n        }\n    } while (Math.abs(currentX) > subdivisionPrecision &&\n        ++i < subdivisionMaxIterations);\n    return currentT;\n}\nconst newtonIterations = 8;\nconst newtonMinSlope = 0.001;\nfunction newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n    for (let i = 0; i < newtonIterations; ++i) {\n        const currentSlope = getSlope(aGuessT, mX1, mX2);\n        if (currentSlope === 0.0) {\n            return aGuessT;\n        }\n        const currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n        aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n}\nconst kSplineTableSize = 11;\nconst kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\nfunction cubicBezier(mX1, mY1, mX2, mY2) {\n    if (mX1 === mY1 && mX2 === mY2)\n        return linear;\n    const sampleValues = new Float32Array(kSplineTableSize);\n    for (let i = 0; i < kSplineTableSize; ++i) {\n        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n    }\n    function getTForX(aX) {\n        let intervalStart = 0.0;\n        let currentSample = 1;\n        const lastSample = kSplineTableSize - 1;\n        for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n            intervalStart += kSampleStepSize;\n        }\n        --currentSample;\n        const dist = (aX - sampleValues[currentSample]) /\n            (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n        const guessForT = intervalStart + dist * kSampleStepSize;\n        const initialSlope = getSlope(guessForT, mX1, mX2);\n        if (initialSlope >= newtonMinSlope) {\n            return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n        }\n        else if (initialSlope === 0.0) {\n            return guessForT;\n        }\n        else {\n            return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n        }\n    }\n    return (t) => t === 0 || t === 1 ? t : calcBezier(getTForX(t), mY1, mY2);\n}\n\nexport { cubicBezier };\n","import { clamp } from '../utils/clamp.mjs';\n\nconst steps = (steps, direction = 'end') => (progress) => {\n    progress =\n        direction === 'end' ? Math.min(progress, 0.999) : Math.max(progress, 0.001);\n    const expanded = progress * steps;\n    const rounded = direction === 'end' ? Math.floor(expanded) : Math.ceil(expanded);\n    return clamp(0, 1, rounded / steps);\n};\n\nexport { steps };\n","export { animate } from './animations/index.mjs';\nexport { inertia } from './animations/inertia.mjs';\nexport { decay } from './animations/generators/decay.mjs';\nexport { spring } from './animations/generators/spring.mjs';\nexport { keyframes } from './animations/generators/keyframes.mjs';\nexport { angle } from './utils/angle.mjs';\nexport { applyOffset } from './utils/apply-offset.mjs';\nexport { attract, attractExpo, createAttractor } from './utils/attract.mjs';\nexport { clamp } from './utils/clamp.mjs';\nexport { degreesToRadians } from './utils/degrees-to-radians.mjs';\nexport { distance } from './utils/distance.mjs';\nexport { interpolate } from './utils/interpolate.mjs';\nexport { isPoint3D } from './utils/is-point-3d.mjs';\nexport { isPoint } from './utils/is-point.mjs';\nexport { mixColor } from './utils/mix-color.mjs';\nexport { mixComplex } from './utils/mix-complex.mjs';\nexport { mix } from './utils/mix.mjs';\nexport { pipe } from './utils/pipe.mjs';\nexport { pointFromVector } from './utils/point-from-vector.mjs';\nexport { progress } from './utils/progress.mjs';\nexport { radiansToDegrees } from './utils/radians-to-degrees.mjs';\nexport { smoothFrame } from './utils/smooth-frame.mjs';\nexport { smooth } from './utils/smooth.mjs';\nexport { snap } from './utils/snap.mjs';\nexport { toDecimal } from './utils/to-decimal.mjs';\nexport { velocityPerFrame } from './utils/velocity-per-frame.mjs';\nexport { velocityPerSecond } from './utils/velocity-per-second.mjs';\nexport { wrap } from './utils/wrap.mjs';\nexport { anticipate, backIn, backInOut, backOut, bounceIn, bounceInOut, bounceOut, circIn, circInOut, circOut, easeIn, easeInOut, easeOut, linear } from './easing/index.mjs';\nexport { cubicBezier } from './easing/cubic-bezier.mjs';\nexport { steps } from './easing/steps.mjs';\nexport { createAnticipate, createBackIn, createExpoIn, mirrorEasing, reverseEasing } from './easing/utils.mjs';\n","import popmotion from \"popmotion\";\n\nconst { styler, spring, listen, pointer, value } = popmotion;\nconst ball = document.querySelector(\".box\");\nconst divStyler = styler(ball);\nconst ballXY = value({ x: 0, y: 0 }, divStyler.set);\n\nlisten(ball, \"mousedown touchstart\").start((e) => {\n  e.preventDefault();\n  pointer(ballXY.get()).start(ballXY);\n});\n\nlisten(document, \"mouseup\").start(() => {\n  spring({\n    from: ballXY.get(),\n    velocity: ballXY.getVelocity(),\n    to: { x: 0, y: 0 },\n    stiffness: 200,\n  }).start(ballXY);\n});\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}